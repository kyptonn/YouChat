(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(26),r=n.n(s),i=(n(53),n(54),n(16)),o=n(7),l=n(13),u=n(17),j=n.n(u),d=n(20),m=n(27);n(56),n(71);m.a.initializeApp({apiKey:"AIzaSyDiPPj2Y96rx9THuRa-n8p_zfx9puBNYUI",authDomain:"roldandev-337af.firebaseapp.com",projectId:"roldandev-337af",storageBucket:"roldandev-337af.appspot.com",messagingSenderId:"455051370326",appId:"1:455051370326:web:92ab47844ec4b743f800f7"});var b=m.a.auth(),h=m.a.firestore(),O=(m.a.firestore(),function(){var e=Object(d.a)(j.a.mark((function e(t,n){var c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return c=h.doc("users/".concat(t.uid)),e.next=5,c.get();case 5:if(e.sent.exists){e.next=17;break}return a=t.email,s=n.displayName,e.prev=9,e.next=12,c.set({displayName:s,email:a,createdAt:new Date,verificado:null,avatar:null,usuario:t.uid,terminosConfirmados:"no"});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("Error in creating user",e.t0);case 17:return e.next=19,c.collection("conversaciones").doc("EL2MD7fiuEOVutmSzGnJXqcgoYo1").set({avatarRemitente:"http://cemokalab.com/wp-content/uploads/2015/07/avatar-369-456321.png",nombreRemitente:"Marta",mensajes:[{content:"Hola! \xbfHas recibido el mensaje confidencial por Email?",createdAt:Date.now(),uid:"EL2MD7fiuEOVutmSzGnJXqcgoYo1"}],createdAt:Date.now(),uid:b.currentUser.uid,uidRemitente:"EL2MD7fiuEOVutmSzGnJXqcgoYo1"});case 19:e.sent;case 20:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}()),p=m.a,x=n(1),v=a.a.createContext();function A(e){var t=e.children,n=Object(c.useState)(),a=Object(l.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!0),o=Object(l.a)(i,2),u=o[0],j=o[1];Object(c.useEffect)((function(){return b.onAuthStateChanged((function(e){r(e),j(!1)}))}),[]);var d={currentUser:s,inicioSesion:function(e,t){return b.signInWithEmailAndPassword(e,t)},registro:function(e,t,n){return b.createUserWithEmailAndPassword(e,t)},logout:function(){return b.signOut()},resetPassword:function(e){return b.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)}};return Object(x.jsx)(v.Provider,{value:d,children:!u&&t})}var g=n(73),f=n(74),w=n.p+"static/media/avatar.5fedd648.png";function N(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(g.a,{bg:"dark",className:"navbar-header-container",variant:"dark",children:[Object(x.jsx)(g.a.Brand,{className:"navbar-header",href:"/",children:"You Chat"}),Object(x.jsxs)(f.a,{className:"mr-auto",children:[Object(x.jsx)(i.b,{to:"/",children:"Inicio"}),Object(x.jsx)(i.b,{to:"/contactos",children:"Contactos"}),Object(x.jsx)(i.b,{to:"/configuracion",children:"Configuraci\xf3n"})]}),Object(x.jsx)("div",{className:"perfil-status column center",children:Object(x.jsx)("img",{src:w})})]})})}var C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAFIElEQVR4nO2bTWxVRRTHfxYeVmyND+PKtiKlQEwUAvhR2tT6sXCjyIaouC5GbUyURFAXbN2aiHEpfiE7UWMMMaZqJSIfsgGkr4ro2oJ9RbDYujj3cs9ML7fv3TszvEr/yUvmZWbO+c/cOTNnZs7APOZxTeO6ADoWAuuBDcBKoAtoB1qBxVGZ88A4cAaoACeB74HDwKUAHJ2jBdgCfApUgemcv3FgH/B0JLPhsRx4G5ggf6Ov9KsCu4BOl4RdmUA78AawGViQkv8z8A0ypCvAaeBPpFEgX3cJsBQxkXVAH7AiRda/wB5gO/CHI/65sQh4jfQvfgR4GemcvOgAtgFHU+RXgVeBUgH5hXA7MlFpUlOI3T/iQV8vsBeZFLXOHxHTC4pNwDmLyEHg3gC670carXWfBZ4IoBuAZzG/wt/AC0BTKAKRrsFId8zjErDVt+IdmD1/HLjLt9IMrEZ8Bs1phy9lWy1FB4BbfCmrA2VgCJPboGslmzCH/T6g2bWSAmhGOGlz2OhKeCfmhDdEYzU+RjPia+iJ8Y6iQhdhzrjHgZuLCvWIMnCChO8PFPQTXlfCznN1J7xasRpzdcg9KXZgenjPuWAXCIOYG6q2PEI+whxKIdf5omgCDpHwf69eAV0ks/4UYTw81+hGuMerwrJ6Kr9D0nufOKcWDp+TtOOtWiu1Ytp+rxdqstX9BRhFRpwPPIC5e7yxlkrPqEpHPRED2cp6d1+BY0rPk3Zm2sSmC33oiRSIjxHjeo969qj0rB1QAvrV/70+GAWGbsODyCHtZdgdsJ7ETirAb/54BcMoSTtuAtboTLsDulX6W4+kQmNIpXt0ht0Bq1T6iDc64aEn85U6w+4AvRyNeKMTHrotxpJrd4D2mU97oxMev6q0cUq90Cqob1/OFVC4AjmQyNo/9FjpVzLKTiEe6amcfM6qdGtWwXESpyGz4CwYVXJc/SoF+LQqOX/pjLm0w/MC2wSqJGbQgoyIPHgU8bqyfO9eEjMYBr7LKDuB6dHVCz2aM9s0QjJUVmUVdICdStdOz7ruVLpO6gzbBH5X6br2zw0O3ZYzOsPugCuul3Mc+u7QmEztDtDDY503OuGxVqUzTeCASvfz/0GfSg/rDLsDDiMzLojHFPza2QOWI1f5ID7ATzrT7oBJ4Gv1f8YBwhzEZpX+CokwuYw0R0ivt0/5YBThH5W+6FGP/ogf11KhBfNQ9GEPpED2C5Xo52vF6ce8IFmcXTzBLlXxSy/UwuALkna8WU/FTszr8L7s4g2JHpKLkUly3BR/QNIBx0gPf2tULEBWtJj/u3mEtGNGeW5zxS4AXsS0/dvyCtKXFxeBe1yw84w1wAUS3lkHLbOihNwMx8JGgVsLEvSJJUhUqo5jKhxIuQw5UtKBiY0YuHwDcpQf8xzDQYhMjI2Yq8J+arxoDIS0IKnHXCsZUAriyNBGMIcyZnDUNBK46QV2oOQI5lYzNO7GDIryfdMMSMCkNocLyLITOlT2eWaGyg6EIvA45sQ4jcTkdGdVcoT7EPPTusfwYPOzoQM5XLDP7/djXUA6wlpgNzPD5Q/i+BVJPSghzlLau6BDwEvkDFGL0BbJsMPjYw9vO1fxwYRGG/A+M79O/DuBBF4NAA8hT2PKiC03RemlUd5AVNae3LSt76aAe+sTnfh7NDWBbNPnxHF9CxJs9RnFns1VEQdnC568zxAPJ0vIJmoDctvUhZhMGWlU/HXHkFdgpxB/fhiZRyYDcJzHPK5V/AcZyuFxZOEzXgAAAABJRU5ErkJggg==",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAEbElEQVRoge2YzU9cVRiHn3PO/ZgZBgYKVLFNjDsjIbqSFpO68CPGxvDRjHTTpIl/golbMX4vjBtdGVcu3BibJmpSo8ZYLCQuKlalxkjTATuF1gEGkPlg7nFBpzMw9965d2CgJjzLmXPe9/d7z3vOPffCAQcc8L9G7LcAT7QWg/M8Lh1GNQytLhbWvum1+7YPM/ZDmx9Dc/oxLRkVaUaBhzSwksnzb7a44Tb+njAwmNaPCIcXtWAUeLi6LVYyebL/5InEjSm3uftmYOSGftCBIQ1JoXkCUdvPZfEA0pQfusXZ0z0wMqePOpJTGpICBvzyV4tXhtyYHIjbCOFsH9f0FRie052O4qTQnHHgKUD4Va1UdJifXUWXKr9ZlvrJTTw0ycDJ67rDsHhBOCS14Dmhg+VZXFjn+m9LHLo/ijJkRaTN+15zdq2FkhmdKOQZFA5JBM8CVtC5pQ2H1PQyC6lVOntaiLZW/CpTFiYHWm2vuTtageSsjhYkTwtBspjjlIBY2JIsLeSYuZKhmCsRazO3iAewbDXhNz+0gbPXdGTR4hkhSBZhWEA8bAyAjaLD7NXNqgMoQ9LeHa0VaMv3/OIEqldSa7WR5riGM8BpoC285ApLt3Jc+yVDIVfZqZ0PxIjGzS3jDEutTxyPx/xiea7AmNZyKs2AA8limtPA4Z2Ihq29Xk1Lm1UjHsC0xMV6MV0NDP2tX/k5zcvA4d3a5cu3c8xMba06bLZOojvioU6+Wy+uq76hG/o20BleZi1eVS/TdaSFSEttHQ1brU0ci9fdX9LtR6F5CSiE1FrDSibPr+PznuJjbZareADLkt8FyeFq4NwRcV4LhoF8QK1bcEqa1NVlpicXyK25XiLvnDoerQMok3eC5PJt8cG0fl5oPgc8HyTbWVnMMzOV8RRexqt1AExbZi8da00Eyee6AmXO94ivtGCEACtxt+oT3lUv05Lwbh0A01YX6uUr42sAgplYXcxz5eJN0n9l0do/nu+pw2ZLaMt4u56u6vGBcGsnp6SZ+zPLzZn6wsv4tQ6AGVGZS/3xwCdg3RUos30lVhYLgateJt7u3zoApim/DKoJQhiAionU70ul6Yn5ur1ejWFKEl21d51qBGAJ+XoYTQ09aHs+SgWseSVL99E4dlT5DrMj6tZ4fzzUlSXUCjRKPGHVFQ+gbHUubOymGwjSOrD5nmkr/UbY+M01IKDjvigiQBYrotJf98Vmw6ZoqoF4u40dC/bOpCz5WSM5mmbAsCSJzmA3ECEEhnLebChPI5Pqcrd1gh1yVlSlvu1rmW8kVWMrIBj3+7ut3caOBq+NYapPG9JBk77MnZhafzW3XBgL8oQWUuiOQ61dF3pFppFcTdkDPzwafS2SsMZ8P8HdwYqomUbFQxM3cVAT0pKf7CRPU4/ReiaEFFoaEd/vPvVo+pPYz4QVNf74vle4vzAHZE/uQl4mDJOPdxp7TwxArQmphENb9IO9yr9rPHl5/a3+H7OlE5fXv9hvLQcccMA9wH9yVnqIzvQo3QAAAABJRU5ErkJggg==",E=(n.p,n(24)),U=n.n(E);var B=n(42),D=n(43),S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAzUlEQVRIic3VLU6DURAF0JMvFZVgK3AIEEgwXQIKT4LAgatu9wCONYCBHcAW2AAC1bQJgmAgtKLzQiWQmaR3Aee+vL9hw7OFsyq8j0csMMrGO9wF/oqd7ILrwGfYy8YngX9gmI2fB/6Fk2z8GJ9RcJGNH+E98HE2vo954DfZ+AAvgd+jl4lv4znwJ6uH9ed0mSv6T9a36EHyFrXsYqrokFsO/VzTSVXJ+kO7rCo5xbeir6JlrPCza7mKkjccVBR0uFU4cCgemS2lQ/9XWQLQlTLS8XarOQAAAABJRU5ErkJggg==",R=p.firestore();function z(){var e=Object(o.f)();null==b.currentUser&&e.push("/login");var t=Object(c.useState)(!0),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),u=i[0],m=i[1],h=Object(c.useState)(null),O=Object(l.a)(h,2),p=O[0],v=O[1],A=Object(c.useState)(!1),g=Object(l.a)(A,2),f=g[0],E=g[1],z=Object(c.useState)(null),P=Object(l.a)(z,2),F=P[0],I=P[1],X=(Object(c.useRef)(null),Object(c.useState)()),H=Object(l.a)(X,2),L=(H[0],H[1]);Object(c.useEffect)((function(){R.collection("users").doc(b.currentUser.uid).collection("conversaciones").doc("EL2MD7fiuEOVutmSzGnJXqcgoYo1").get().then((function(e){v([e.data()])}))}),[]),Object(c.useEffect)((function(){R.collection("users").doc("EL2MD7fiuEOVutmSzGnJXqcgoYo1").get().then((function(e){L(e.data())}));var e=[];R.collection("users").doc(b.currentUser.uid).collection("conversaciones").get().then((function(t){return t.forEach((function(t){return e.push(t.data())}))})).then((function(t){m(e),s(!1)}))}),[f]);var k=Object(c.useState)("conver-popup-inactiva"),T=Object(l.a)(k,2),V=T[0],G=T[1],Q=Object(c.useState)("conver-popup-overlay-inactiva"),J=Object(l.a)(Q,2),Y=J[0],M=J[1],q=function(){G("conver-popup-activa"),M("conver-popup-overlay-activa")},W=function(e){console.log(e);var t=R.collection("users").doc(b.currentUser.uid).collection("conversaciones").doc(e).get().then((function(e){return v([e.data()])}));null==t||void 0==t?(console.log("no existe ese archivo"),R.collection("users").doc(b.currentUser.uid).collection("conversaciones").doc(e).set({mensajes:[{content:"Hola! \xbfHas recibido el mensaje confidencial por Email?",createdAt:Date.now(),uid:"EL2MD7fiuEOVutmSzGnJXqcgoYo1"}],createdAt:Date.now(),uid:b.currentUser.uid})):console.log("SI existe")},K=Object(c.useState)(),Z=Object(l.a)(K,2),_=Z[0],$=Z[1],ee=function(){var e=p[0].mensajes;console.log(p),e.push({content:_,createdAt:Date.now(),uid:b.currentUser.uid});try{R.collection("users").doc(b.currentUser.uid).collection("conversaciones").doc(p[0].uidRemitente).update({mensajes:e}),R.collection("users").doc(p[0].uidRemitente).collection("conversaciones").doc(b.currentUser.uid).update({mensajes:e}),E(!f),document.getElementById("mensajeInput").value=""}catch(t){alert(t)}},te=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,R.collection("users").where("displayName","==",F).get().then((function(e){return e.forEach((function(e){return t.push(e.data())}))}));case 4:return console.log(t),e.next=7,R.collection("users").doc(b.currentUser.uid).collection("conversaciones").doc(t[0].usuario).set({avatarRemitente:t[0].avatar,createdAt:Date.now(),mensajes:[{content:"",createdAt:Date.now(),uid:b.currentUser.uid}],nombreRemitente:t[0].displayName,uid:b.currentUser.uid,uidRemitente:t[0].usuario});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Parece que hay un error con el Nombre de Usuario introducido");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){"Enter"===e.key&&ee()},ce=Object(D.useMediaQuery)({query:"(max-width: 800px)"}),ae=Object(D.useMediaQuery)({query:"(min-width: 801px)"}),se=Object(c.useState)("app-column-izq"),re=Object(l.a)(se,2),ie=re[0],oe=re[1];return a?Object(x.jsx)("h1",{children:"Cargando"}):Object(x.jsxs)("div",{style:{overflowY:"unset"},children:[Object(x.jsx)(N,{}),Object(x.jsxs)("div",{className:V,style:{overflowY:"hidden"},children:[Object(x.jsx)("img",{onClick:function(){G("conver-popup-inactiva"),M("conver-popup-overlay-inactiva")},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEbklEQVRoge3a34tVVRQH8M/Y6Fyx1BmdlAhqqBe1pnnqB1EvUWlamQ/RlEaRYj34g6mHXqzoJQofIhCi+h+KyEQjw6zIMquXTLOgX0Y/yDKaFLXTw96Hfas713t+zIwPfuFwD3et/V3rnr3X2uusfTmLMwtdNXL14Xpci4W4BOdjRpT/iR/xFT7DO3gbR2r0oTQaWIUdOIWs4HUS27ESPRPsO5iOh3G4yalj2IlNWI4F6MXUePXG75bjMbwVx+Tjv8eI8HAmBEvxZZMDH2I1ZpXgmo012NvEdwhLavF0DDTwfJPBj3BTjfyL8XET/xbjMDvzBcczIWjX4Zy6jUTODRiVZnteXeQDwnRn2I/L6iJug0EciDa/iD5UQn8T4QeYW5WwAHqFFJ0JMTm/LFFDWk7vSfvBRGIG3peWWamYyQN7v7DZTRbmSKtiS9HBS6XAnoiYOB0GpQSwuNNB06V9Yt34+FUKG6Xg72iJPSLtE+ORYsuiG58Ivm08nXKPUCpkuHF8/SqFWwTfDjvNrKyUMkQRLMRfceyzHegPR90TuKqAnS4pk97dTvGNqLS6AHmOfEmeEsr5sdCPn6LukyXsrI1jt42l0CeU1ceUKwCnCO8XmZAup4+h94oUg1NL2OnFcWE2W/p5RzTwZgnyHAM4Gnk2t5DfK5X8l1ewsyvy3NpKuDkKN1UwAA9JL03XNH1/AX6NspGKNp6IPM+0Em6NwtsqGunC65Hrc2mJ5fy7hWVYBfnqebWV8GAULqhoBC4U3sUzPI374/3vuKgG/kXSg/offonCOTUYIsXDSSk131cT99zI93Mr4fEonFaTMVKGyuJ9XeiRkgaqr9V2mCKkyhwT1vape2mNSLv339qkyxJou7TqDPYFUlyswQvx/gf1vGW2DfY8Pd5e0Ug39kSuHUI6nomv43cvV+SHFf6TfptjZH/8vKKikUdxJX6T0u5RYWYyoUF3V0Ubg/Gz5Ywsj4Z2VjAwJGW/VS3kL0bZEWGvKYu8RFnWStgrFY2zS5D34FPtU+0sfBN1Xithg1Dc5kXjzLGUtksBWhRPSZmkXevmBimLPVDCzoNx7NZ2SvdEpb0Fya8WZjPDnR3ov6RcydKFfXHscDvFHnwXFW8uYGCisEzw7VsdHEPkG9k+Z17zIY/B9Z0MaEi93g3j51dh5A/4gAKHQkvioFEpZ08mhqRKofBRxhbpCdRVf5VBv9CUy/BcGYKG0BbKhEbyZDSxz5XKnT0qnDP2C2VAfqzQX4d3HaIP70rHcZUPfAakqT2gei3WCYaabB7ExXURz5OW2ajQe+2ui7wJ3UJ2ygN7j3BWXysaUgLIhIZyXaevXcJRRr5P5IE9rmfvi6VpzzuGa/37tbZT9Am1U1525EupztPitmgIyysvZzKhIt2Fx4W+0yIhbU+L1xzh0GhF1Nkllfx52bHeJP0Dokfoim+TisYi1wmhih1W8QfU+aeaWUIX/jrhnf1SIV2fF+V/CF34Q0JK3y3MytEafTiLMwb/AI9qXz28gbgcAAAAAElFTkSuQmCC"}),Object(x.jsx)("h4",{style:{marginBottom:0},children:"Introduce el Nombre de Usuario"}),Object(x.jsx)("h4",{children:"para iniciar una conversaci\xf3n"}),Object(x.jsx)("input",{onChange:function(e){return I(e.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{onClick:function(){return te()},children:"Iniciar Chat"})]}),Object(x.jsx)("div",{className:Y}),Object(x.jsxs)("div",{className:"master-container",children:[ce&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:ie,children:[Object(x.jsxs)("div",{className:"conversaciones space-between",children:[Object(x.jsx)("h3",{children:"Conversaciones"}),Object(x.jsx)("img",{onClick:function(){return q()},src:C})]}),u.map((function(e){return Object(x.jsx)("div",{onClick:function(){W(e.uidRemitente),oe("app-column-izq-hidden")},className:"contactos mt-3",children:Object(x.jsxs)("div",{className:"flex",children:[null===e.avatarRemitente?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("img",{src:w})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("img",{src:e.avatarRemitente})}),Object(x.jsxs)("div",{className:"column",children:[Object(x.jsx)("h5",{children:e.nombreRemitente}),Object(x.jsxs)("h6",{children:[e.mensajes[e.mensajes.length-1].content.substring(0,15),"..."]})]}),Object(x.jsxs)("div",{className:"info column",children:[Object(x.jsx)(U.a,{format:"HH:mm",children:Date(e.mensajes[e.mensajes.length-1].createdAt)}),Object(x.jsx)("h6",{className:"notificaciones",children:"1"})]})]})})}))]}),Object(x.jsx)("div",{style:{placeItems:"center"},className:"app-column-der column-center ",children:Object(x.jsxs)("div",{className:"container-chat",children:[Object(x.jsxs)("div",{style:{padding:"10px",borderBottom:"solid 1px grey"},className:"linea-contacto flex",children:[null===p[0].avatarRemitente?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{onClick:function(){return oe("app-column-izq")},src:S}),Object(x.jsx)("img",{src:w})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{onClick:function(){return oe("app-column-izq")},src:S}),Object(x.jsx)("img",{src:p[0].avatarRemitente})]}),Object(x.jsxs)("div",{className:"container-chat-columna-contacto",children:[Object(x.jsx)("h3",{children:p[0].nombreRemitente}),Object(x.jsx)("h5",{children:"\xdaltima conexi\xf3n hace 1 hora"})]})]}),Object(x.jsx)("div",{className:"container-conversaciones",children:Object(x.jsxs)("div",{className:"column columna-conversaciones",children:[null===p?Object(x.jsx)("div",{}):Object(x.jsx)(B.a,{children:p.map((function(e){return e.mensajes.map((function(e){return Object(x.jsx)(x.Fragment,{children:e.uid===b.currentUser.uid?Object(x.jsxs)("div",{className:"bocadillo-conver",children:[Object(x.jsx)("h3",{children:e.content},e.createdAt),Object(x.jsx)("h5",{children:Object(x.jsx)(U.a,{format:"HH:mm",children:1*e.createdAt})})]}):Object(x.jsxs)("div",{className:"bocadillo-conver-notself",children:[Object(x.jsx)("h3",{children:e.content},e.createdAt),Object(x.jsx)("h5",{children:Object(x.jsx)(U.a,{format:"HH:mm",children:1*e.createdAt})})]})})}))}))}),Object(x.jsx)("br",{})]})}),Object(x.jsx)("div",{className:"container-escribir",children:Object(x.jsxs)("div",{className:"escribir",children:[Object(x.jsx)("input",{id:"mensajeInput",onKeyPress:function(e){return ne(e)},onChange:function(e){return $(e.target.value)},type:"text",placeholder:"Escribir mensaje"}),Object(x.jsx)("img",{id:"myBtn",onClick:function(){return ee()},src:y})]})})]})})]}),ae&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"app-column-izq",children:[Object(x.jsxs)("div",{className:"conversaciones space-between",children:[Object(x.jsx)("h3",{children:"Conversaciones"}),Object(x.jsx)("img",{onClick:function(){return q()},src:C})]}),u.map((function(e){return Object(x.jsx)("div",{onClick:function(){return W(e.uidRemitente)},className:"contactos mt-3",children:Object(x.jsxs)("div",{className:"flex",children:[null===e.avatarRemitente?Object(x.jsx)("img",{src:w}):Object(x.jsx)("img",{src:e.avatarRemitente}),Object(x.jsxs)("div",{className:"column",children:[Object(x.jsx)("h5",{children:e.nombreRemitente}),Object(x.jsxs)("h6",{children:[e.mensajes[e.mensajes.length-1].content.substring(0,15),"..."]})]}),Object(x.jsxs)("div",{className:"info column",children:[Object(x.jsx)(U.a,{format:"HH:mm",children:Date(e.mensajes[e.mensajes.length-1].createdAt)}),Object(x.jsx)("h6",{className:"notificaciones",children:"1"})]})]})})}))]}),Object(x.jsx)("div",{style:{placeItems:"center"},className:"app-column-der column-center ",children:Object(x.jsxs)("div",{className:"container-chat",children:[Object(x.jsxs)("div",{style:{padding:"10px",borderBottom:"solid 1px grey"},className:"linea-contacto flex",children:[null===p[0].avatarRemitente?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{onClick:function(){return oe("app-column-izq")},src:S}),Object(x.jsx)("img",{src:w})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{onClick:function(){return oe("app-column-izq")},src:S}),Object(x.jsx)("img",{src:p[0].avatarRemitente})]}),Object(x.jsxs)("div",{className:"container-chat-columna-contacto",children:[Object(x.jsx)("h3",{children:p[0].nombreRemitente}),Object(x.jsx)("h5",{children:"\xdaltima conexi\xf3n hace 1 hora"})]})]}),Object(x.jsx)("div",{className:"container-conversaciones",children:Object(x.jsxs)("div",{className:"column columna-conversaciones",children:[null===p?Object(x.jsx)("div",{}):Object(x.jsx)(B.a,{children:p.map((function(e){return e.mensajes.map((function(e){return Object(x.jsx)(x.Fragment,{children:e.uid===b.currentUser.uid?Object(x.jsxs)("div",{className:"bocadillo-conver",children:[Object(x.jsx)("h3",{children:e.content},e.createdAt),Object(x.jsx)("h5",{children:Object(x.jsx)(U.a,{format:"HH:mm",children:1*e.createdAt})})]}):Object(x.jsxs)("div",{className:"bocadillo-conver-notself",children:[Object(x.jsx)("h3",{children:e.content},e.createdAt),Object(x.jsx)("h5",{children:Object(x.jsx)(U.a,{format:"HH:mm",children:1*e.createdAt})})]})})}))}))}),Object(x.jsx)("br",{})]})}),Object(x.jsx)("div",{className:"container-escribir",children:Object(x.jsxs)("div",{className:"escribir",children:[Object(x.jsx)("input",{id:"mensajeInput",onKeyPress:function(e){return ne(e)},onChange:function(e){return $(e.target.value)},type:"text",placeholder:"Escribir mensaje"}),Object(x.jsx)("img",{id:"myBtn",onClick:function(){return ee()},src:y})]})})]})})]})]})]})}var P=n(29),F=n(30),I=n(31),X=n(34),H=n(32),L=n.p+"static/media/unnamed.5b60becd.png",k=function(e){Object(X.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(F.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleChange=function(t){var n=t.target,c=n.name,a=n.value;e.setState(Object(P.a)({},c,a))},e.handleSubmit=function(){var t=Object(d.a)(j.a.mark((function t(n){var c,a,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c=e.state,a=c.email,s=c.password,!a||!s){t.next=14;break}return t.prev=3,t.next=6,b.signInWithEmailAndPassword(a,s);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),console.log("error logging in",t.t0),alert("Error al iniciar la sesi\xf3n. Comprueba los campos");case 12:window.confirm("La sesi\xf3n se ha iniciado correctamente")&&(window.location.href="/");case 14:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"home space-between",children:[Object(x.jsx)("div",{className:"portada-izq column-center center",children:Object(x.jsx)("img",{src:L})}),Object(x.jsx)("div",{className:"portada-der",children:Object(x.jsx)("form",{style:{marginTop:"200px"},className:"signup-login",onSubmit:this.handleSubmit,children:Object(x.jsx)("div",{className:"container-master",children:Object(x.jsxs)("div",{className:"column-center",children:[Object(x.jsx)("br",{}),Object(x.jsx)("h2",{style:{color:"white"},className:"mt-6 text-center",children:"Iniciar Sesi\xf3n"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{className:"input1",type:"email",name:"email",value:t,onChange:this.handleChange,placeholder:"Email"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{className:"input1",type:"password",name:"password",value:n,onChange:this.handleChange,placeholder:"Contrase\xf1a"}),Object(x.jsx)("button",{className:"button1 mt-4",children:"Iniciar Sesi\xf3n"}),Object(x.jsx)("p",{className:"link1 mt-3",children:Object(x.jsx)(i.b,{to:"/forgot-password",children:" \xbfHas olvidado la contrase\xf1a?"})}),Object(x.jsx)("p",{className:"link1 mt-1",children:Object(x.jsx)(i.b,{to:"/registro",children:"\xbfA\xfan no tienes cuenta?"})})]})})})})]})})}}]),n}(c.Component),T=function(e){Object(X.a)(n,e);var t=Object(H.a)(n);function n(){var e;Object(F.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={displayName:"",email:"",password:""},e.handleChange=function(t){var n=t.target,c=n.name,a=n.value;e.setState(Object(P.a)({},c,a))},e.handleSubmit=function(){var t=Object(d.a)(j.a.mark((function t(n){var c,a,s,r,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=e.state,a=c.email,s=c.password,r=c.displayName,t.prev=2,t.next=5,b.createUserWithEmailAndPassword(a,s);case 5:return i=t.sent,o=i.user,console.log(o),t.next=10,O(o,{displayName:r});case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log("error",t.t0);case 15:window.confirm("La cuenta se ha creado correctamente")&&(window.location.href="/"),e.setState({displayName:"",email:"",password:""});case 18:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(I.a)(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,c=e.password;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"home space-between",children:[Object(x.jsx)("div",{className:"portada-izq column-center center",children:Object(x.jsx)("img",{src:L})}),Object(x.jsx)("div",{className:"portada-der",children:Object(x.jsx)("form",{className:"signup-login",onSubmit:this.handleSubmit,children:Object(x.jsxs)("div",{className:"column-center",children:[Object(x.jsx)("br",{}),Object(x.jsx)("h2",{style:{color:"white",marginTop:"250px"},className:"mt-6 text-center",children:"Registrarse"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{className:"input1",type:"name",name:"displayName",value:t,onChange:this.handleChange,placeholder:"Nombre usuario"}),Object(x.jsx)("input",{className:"input1 mt-4",type:"email",name:"email",value:n,onChange:this.handleChange,placeholder:"Email"}),Object(x.jsx)("input",{className:"input1 mt-4",type:"password",name:"password",value:c,onChange:this.handleChange,placeholder:"Contrase\xf1a"}),Object(x.jsx)("div",{className:"center",children:Object(x.jsx)("button",{className:"button1 mt-4",children:"Registrarse"})}),Object(x.jsx)("div",{className:"center",children:Object(x.jsx)("p",{className:"link1 mt-3",children:Object(x.jsx)(i.b,{to:"/login",children:" \xbfYa tienes una cuenta?"})})}),Object(x.jsx)("div",{className:"center mt-4",children:Object(x.jsxs)("p",{children:["Esta es una versi\xf3n de prueba ",Object(x.jsx)("br",{}),"Puedes registrarte con un Email inventado"]})})]})})})]})})}}]),n}(c.Component);var V=function(){return Object(x.jsx)(A,{children:Object(x.jsx)(i.a,{children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:"/",component:z}),Object(x.jsx)(o.a,{exact:!0,path:"/login",component:k}),Object(x.jsx)(o.a,{exact:!0,path:"/registro",component:T})]})})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},Q=(n(69),function(){return Object(x.jsx)(A,{children:Object(x.jsx)(V,{})})});r.a.render(Object(x.jsx)(Q,{}),document.getElementById("root")),G()}},[[70,1,2]]]);
//# sourceMappingURL=main.811e09ce.chunk.js.map